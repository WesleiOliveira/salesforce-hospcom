<apex:page renderAs="pdf" standardController="Demonstracao__c" extensions="DemonstracaoRegistro" standardStylesheets="false" cache="false" showHeader="false" sidebar="false" applyHtmlTag="true" applyBodyTag="false">
    <head>
        <style type="text/css" media="print">
            
            /* pdf */
            @page{
                size:A4;
                background: url({!documento.timbrado});
                margin:150px 50px 120px 50px;
                @bottom-center{content:element(paginacao);}
            }
            .pagina:before{content:counter(page);}
            .paginas:before{content:counter(pages);}
            
            /* paginação */
            .paginacao{
                height:120px;
                position:running(paginacao);
            }.paginacao .valor{
                position: absolute;
                top: 74px;
                left: 410px;
                text-align:center;
                background-color:white;
                font-family:arial, verdana, sans-serif;
                font-size:12px;
                font-weight:600;
                color:#697f9b;
            }.paginacao .valor-2{
                position: absolute;
                top: 95px;
                left: -3px;
                text-align:left;
                background-color:white;
                font-family:arial, verdana, sans-serif;
                font-size:9px;
                font-weight:600;
                color:#697f9b;
            }
            
            /* documento */
            .documento{
                padding:0px;
                margin:0px;
                font-family:arial, verdana, sans-serif;
            }.bloco{
                page-break-inside:avoid;
            }.linha{
                white-space: nowrap;
            }
            
            /* conteudo */
            .conteudo .titulo{
                font-size:14px;
                font-weight:bold;
                line-height:120%;
            }.conteudo .paragrafo{
                font-size:13px;
                text-align:justify;
                line-height:120%;
                text-justify:inter-word;
                text-indent:50px;
            }
            
            .conteudo .manuscrito{
                height:25px;
                border-color:#cacecf!important;
            }.conteudo .destaque{
                border-color:#cacecf;
                border-style:solid;
                border-width:2px 0px 0px 0px;
                padding-top:4px;
                padding-bottom:10px;
            }.conteudo .sessao{
                width:100%;
                border-collapse:collapse;
            }.conteudo .sessao .rotulo, 
             .conteudo .sessao .valor, 
             .conteudo .rotulo_doc, 
             .conteudo .valor_doc{
                font-size:11px;
                vertical-align:top;
                border-color:#eef2f4;
                border-style:solid;
                border-width:1px 0px 1px 0px;
                padding:2px;
            }.conteudo .sessao .rotulo{
                width:20%;
                font-weight:bold;
                white-space: nowrap;
                text-align:right;
                padding-right:6px;
            }.conteudo .sessao .valor{
                width:30%;
            }.conteudo .sessao .rotulo_doc{
                width:33.33%;
                font-weight:bold;
                white-space: nowrap;
                text-align:center;
            }.conteudo .sessao .valor_doc{
                width:100%;
                white-space: nowrap;
            }
            
            .conteudo .obsimgs{
                text-align:right;
                font-size:11px;
                font-weight:bold;
                font-style:italic;
            }.conteudo .assinatura{
                width:100%;
            }.conteudo .assinatura td{
                width:50%;
                font-size:13px;
                line-height:130%;
            }
            
            /* listagem */
            .listagem{ 
                width:100%;
            }.listagem table{ 
                width:100%;
                border-collapse:collapse;
            }.listagem td{ 
                padding:2px 5px;
                line-height:120%;
            }.listagem .pre-cabecalho{
                height:10px;
            }.listagem .cabecalho td{
                font-size:12px;
                font-weight:bold;
                background-color:#e2e3e3;
                white-space: nowrap;
                border-color:#cacecf;
                border-style:solid;
                border-width:1px 0px 1px 0px;
            }.listagem .item-dados .imagem{
                vertical-align:middle;
            }.listagem .item-dados.acessorio .imagem{
                text-align:right;
            }.listagem .item-dados.equipamento img{
                width: 80px;
                height: 80px; 
            }.listagem .item-dados.acessorio img{
                width: 55px;
                height: 55px; 
            }.listagem .item-dados .valor{
                border-color:#eef2f4;
                border-style:solid;
                border-width:1px 0px 0px 0px;
            }.listagem .item-dados td{
                font-size:10px;
                vertical-align:top;
            }.listagem .item-dados .checkbox{
                border-color:#eef2f4;
                border-style:solid;
                border-width:0px 0px 1px 0px;
                padding: 2px 6px 0px 2px!important;
            }.listagem .item-dados .checkbox{
                border-color:#eef2f4;
                border-style:solid;
                border-width:0px 0px 1px 1px;
            }.listagem .item-dados .checkbox span{
                border: 1px solid black;
            }.listagem .item-descr td{
                font-size:10px;
                text-align:justify;
                vertical-align:top;
                text-justify:inter-word;
                border-color:#eef2f4;
                border-style:solid;
                border-width:0px 0px 1px 0px;
            }.listagem .subtotal{
                font-weight: bold;
                font-size:10px;
                white-space: nowrap;
            }.listagem .subtotal .valor{
                border-color:#eef2f4;
                border-style:solid;
                border-width:0px 0px 1px 0px;
            }
            
            .listagem .item-dados .valor2{
                border-color:#eef2f4;
                border-style:solid;
                border-width:1px 1px 1px 1px;
            }
            
        </style>
    </head>
    
    <body class="documento">
        
        <!-- paginacao -->
        <div class="paginacao">
            <div class="valor">Página <span class="pagina"/> de <span class="paginas"/></div>
            <div class="valor-2">Rev: 000 | Data Rev: 28/11/2019</div>
        </div>
        
        <!-- conteudo -->
        <div class="conteudo">
            
            <div class="titulo" style="text-align:center;">
                REGISTRO&nbsp;
                <apex:outputText value="{!if(Demonstracao__c.RecordTypeId=='0125A000001dwg3QAA','DE DEMONSTRAÇÃO','DO EMPRÉSTIMO') }"/>&nbsp;Nº.
                <apex:outputText value="{!Demonstracao__c.Name}"/>
            </div>
            <br/>
            
            <!-- Geral -->
            <div class="bloco">
                <div class="titulo destaque">Informações gerais</div>
                <table class="sessao" cellpadding="0px" cellspacing="0px" border="0">
                    <tr>
                        <td class="rotulo">Cliente</td>
                        <td class="valor"><apex:outputText value="{!if(demonstracao.Conta__r.RecordType.Name == 'Conta comercial', demonstracao.Conta__r.Raz_o_Social__c, demonstracao.Conta__r.Name)}"/></td>
                        
                        <td class="rotulo"><apex:outputText value="{!if(demonstracao.Conta__r.RecordType.Name == 'Conta comercial', 'CNPJ', 'CPF')}"/></td>
                        <td class="valor"><apex:outputText value="{!if(demonstracao.Conta__r.RecordType.Name == 'Conta comercial', demonstracao.Conta__r.CNPJ__c, demonstracao.Conta__r.CPF__pc)}"/></td>
                    </tr>
                    <tr>
                        <td class="rotulo">Início:</td>
                        <td class="valor">____/____/________, &nbsp;&nbsp;&nbsp;____:____</td>                        
                        
                        <td class="rotulo">Término:</td>
                        <td class="valor">____/____/________,&nbsp;&nbsp;&nbsp;____:____</td>                        
                    </tr>
                </table>
            </div>
            <br/>
            
            <!-- Produtos -->
            <div class="titulo destaque" style="padding-bottom:0px;">Ativos e acessórios</div>
            <div class="listagem">
                <apex:variable var="subtotal" value="{!0}"/>
                
                <table cellpadding="0px" cellspacing="0px" border="0">
                    <apex:repeat value="{!produtos}" var="produto">
                        <tbody class='bloco'>

                            <!-- cabeçalho -->
                            <apex:outputText rendered="{!IF(produto.cabecalho,true,false)}">
                                <tr class="pre-cabecalho"><tr cellspacing="7"></tr></tr>
                                <tr class="cabecalho">
                                    <td style="visibility:hidden;border:0px;"></td>
                                    <!-- <td>Imagem</td> -->
                                    <td>Produto</td>
                                    <td>Modelo</td>
                                    <td>Fabricante</td>
                                    <td>Nº de série</td>
                                </tr>
                            </apex:outputText>
                            
                            <!-- item -->
                            <apex:variable var="tipo" value="{!IF(produto.item.Item_pai__c==null,'equipamento','acessorio')}"/>
                            <apex:variable var="sub" value="{!IF(tipo=='acessorio','padding-left:20px!important;','')}"/>
                            <tr class="item-dados {!tipo}">
                                <td><apex:outputText value="{!produto.item.Item__c}" rendered="{!IF(tipo=='equipamento',true,false)}"/></td>
                                <!-- <td class="imagem"><img src="{!produto.item.Ativo__r.Product2.URL_da_Imagem__c}"/></td> -->
                                <td class="valor" style="{!sub}">
                                    COD: {!produto.item.Ativo__r.Product2.StockKeepingUnit}
                                    <br/>{!produto.item.Ativo__r.Product2.Name}
                                </td>
                                <td class="valor">{!produto.item.Ativo__r.Product2.Modelo__c}</td>
                                <td class="valor">{!produto.item.Ativo__r.Product2.Marca__c}</td>
                                <td class="valor"><apex:outputText value="{!IF(produto.item.Ativo__r.SerialNumber!=null,produto.item.Ativo__r.SerialNumber,'')}" /></td>
                            </tr>
                        </tbody>
                    </apex:repeat>
                </table>
            </div>
            <br/>
            
            <!-- Participantes -->
            <div class="listagem">
                <div class="titulo destaque">Participantes </div>
                <table cellpadding="0px" cellspacing="0px" border="0">
                    <tr class="pre-cabecalho"><tr cellspacing="7"></tr></tr>
                    <tr class="cabecalho">
                        <td style="visibility:hidden;border:0px;width:20px;"></td>
                        <td style="width:200px;!important;">Nome</td>
                        <td style="width:130px;!important;">Função</td>
                        <td style="">Telefone</td>
                        <td style="width:180px;!important;">E-mail</td>
                    </tr>
                    <apex:repeat value="{!qtd_linhas}" var="linha">
                        <tr class="item-dados" style="height:25px!important;">
                            <td>{!linha}</td>
                            <td class="valor2"></td>
                            <td class="valor2"></td>
                            <td class="valor2"></td>
                            <td class="valor2"></td>
                        </tr>
                    </apex:repeat>                  
                </table>
            </div>
            <br/>
            
            <!-- Observações -->
            <div class="bloco">
                <div class="titulo destaque">Observações </div>
                <table class="sessao" cellpadding="0px" cellspacing="0px" border="0">
                    <tr><td class="valor manuscrito" style="border-top:0px;"></td></tr>
                    <tr><td class="valor manuscrito"></td></tr>
                    <tr><td class="valor manuscrito"></td></tr>
                    <tr><td class="valor manuscrito"></td></tr>
                    <tr><td class="valor manuscrito"></td></tr>
                    <tr><td class="valor manuscrito"></td></tr>
                </table>
            </div>
            <br/>
            
            <!-- Declarações -->
            <div class="bloco">
                <div class="titulo destaque">Responsáveis </div>
                <br/>
                <table class="assinatura">
                    <tr>
                        <td>
                            <br/><br/>____________________________________
                            <br/>Responsável Cliente
                            <br/>Nome: 
                            <br/>Data: 
                        </td>
                        <td>
                            <br/><br/>____________________________________
                            <br/>Responsável Hospcom
                            <br/>Nome:
                            <br/>Data:
                        </td>
                    </tr>
                </table>
                <br/>
            </div>
            
        </div>
        
    </body>
</apex:page>